<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>パスワードリセット - 新規パスワード設定</title>
	<link rel="stylesheet" href="/css/password_reset/password_reset.css">
	<script src="/js/password_reset/password_reset.js" defer></script>
</head>

<body>
	<header>
		<h1><a th:href="@{/dateMaster/home}">DatingMaster</a></h1>
		<div class="hamburger-button">
			<span></span>
			<span></span>
			<span></span>
		</div>
	</header>

	<ul class="hamburger-menu">
		<li><a th:href="@{/dateMaster/date}">デート</a></li>
		<li><a th:href="@{/dateMaster/diagonosis}">診断</a></li>
		<li><a th:href="@{/dateMaster/partner}">パートナー</a></li>
		<li><a th:href="@{/dateMaster/setting}">設定</a></li>
		<li><a th:href="@{/dateMaster/logout}">ログアウト</a></li>
	</ul>

	<main>
		<div class="reset-container">
			<h2>新しいパスワードの設定</h2>
			<p class="instruction">新しいパスワードを入力してください。</p>
			<form th:action="@{/dateMaster/password/reset}" method="post">
				<!-- ユーザーIDを隠しフィールドとして保持 -->
				<input type="hidden" name="userId" th:value="${userId}">

				<!-- 新パスワード入力 -->
				<div class="input-group">
					<label for="newPassword">新しいパスワード</label>
					<input type="password" id="newPassword" name="newPassword" required>
					<div class="password-requirements">
						<!-- パスワード要件はJSで動的に追加 -->
					</div>
				</div>

				<!-- 新パスワード（確認用）入力 -->
				<div class="input-group">
					<label for="confirmPassword">新しいパスワード（確認）</label>
					<input type="password" id="confirmPassword" name="confirmPassword" required>
				</div>

				<!-- エラーメッセージ表示 -->
				<p th:if="${errorMessage}" class="error-message" th:text="${errorMessage}"></p>

				<div class="button-group">
					<button type="submit" class="confirm-button">確定</button>
				</div>
			</form>
		</div>
	</main>

	<!-- オーバーレイ -->
	<div class="overlay"></div>
</body>

</html>