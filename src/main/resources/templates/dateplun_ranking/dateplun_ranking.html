<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>デートプランランキング</title>
	<style>
		.ranking-container {
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
		}

		.ranking-item {
			margin-bottom: 30px;
			padding: 15px;
			border: 1px solid #ddd;
			border-radius: 8px;
		}

		.spot-images {
			display: flex;
			justify-content: space-between;
			margin-top: 10px;
		}

		.spot-image {
			width: 200px;
			height: 150px;
			object-fit: cover;
			border-radius: 4px;
		}

		.rank-number {
			font-size: 24px;
			font-weight: bold;
			color: #ff69b4;
		}

		.spot-name {
			margin-top: 5px;
			text-align: center;
		}

		.count-info {
			text-align: right;
			color: #666;
			margin-top: 10px;
		}

		.unset-spot {
			color: #999;
			font-style: italic;
		}
	</style>
</head>

<body>
	<div class="ranking-container">
		<h1>人気デートプランランキング</h1>

		<div th:each="ranking, stat : ${rankings}" class="ranking-item">
			<div class="rank-number" th:text="'第' + ${stat.count} + '位'"></div>

			<div class="spot-images">
				<!-- Spot1 -->
				<div>
					<img th:if="${ranking.spot1Name != '未設定'}"
						th:src="@{/spot_images/{name}.jpg(name=${ranking.spot1Name})}" th:alt="${ranking.spot1Name}"
						class="spot-image">
					<div class="spot-name" th:text="${ranking.spot1Name}"></div>
				</div>

				<!-- Spot2 -->
				<div th:if="${ranking.spot2Name != '未設定'}">
					<img th:src="@{/spot_images/{name}.jpg(name=${ranking.spot2Name})}" th:alt="${ranking.spot2Name}"
						class="spot-image">
					<div class="spot-name" th:text="${ranking.spot2Name}"></div>
				</div>
				<div th:if="${ranking.spot2Name == '未設定'}" class="unset-spot">
					<div class="spot-name">スポット2未設定</div>
				</div>

				<!-- Spot3 -->
				<div th:if="${ranking.spot3Name != '未設定'}">
					<img th:src="@{/spot_images/{name}.jpg(name=${ranking.spot3Name})}" th:alt="${ranking.spot3Name}"
						class="spot-image">
					<div class="spot-name" th:text="${ranking.spot3Name}"></div>
				</div>
				<div th:if="${ranking.spot3Name == '未設定'}" class="unset-spot">
					<div class="spot-name">スポット3未設定</div>
				</div>
			</div>

			<div class="count-info" th:text="'選ばれた回数: ' + ${ranking.count} + '回'"></div>
		</div>

		<form th:action="@{/date}" method="get">
			<button type="submit">戻る</button>
		</form>
	</div>
</body>

</html>